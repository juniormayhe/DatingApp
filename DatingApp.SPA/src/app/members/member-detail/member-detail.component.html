<!-- add a Safe navigation operator (?)
  so browser errors won't be displayed due to
  order of angular execution.
  Angular does not know properties since
  user object has not been loaded yet OR
you can use route resolvers to load data before page renders-->
<div class="container">
  <div class="row">
    <h1>{{user.knownAs}} Profile</h1>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <div class="panel panel-default">
        <img class="profile-image thumbnail" src="{{user?.photoUrl ? user.photoUrl : '../../../assets/user.png'}}" alt="{{user?.knownAs}}">

        <div class="panel-body">
          <div>
            <strong>Location: </strong>
            <p>{{user?.city}}, {{user?.country}}</p>
          </div>
          <div>
            <strong>Age: </strong>
            <p>{{user?.age}}</p>
          </div>
          <div>
            <strong>Last active: </strong>
            <p>{{user?.lastActive | timeAgo}}</p>
          </div>
          <div>
            <strong>Member since: </strong>
            <p>{{user?.created | date: 'mediumDate'}}</p>
          </div>
        </div>
        <div class="panel-footer">
          <div class="btn-group-justified">
            <div class="btn-group">
              <button id="btnLikeMe" class="btn" (click)="sendLike(user.id)"
                [disabled]="alreadyLiked"
                [ngClass]="alreadyLiked ? 'btn-success active' : 'btn-primary'"
                title="{{alreadyLiked?'You already liked me. Thank you' : 'Like me now!'}}">
                Like
              </button>
            </div>
            <div class="btn-group">
              <button class="btn btn-success">
                Message
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-8">
      <div class="tab-panel">
          <tabset class="member-tabset">
              <tab heading="About {{user?.knownAs}}">
                <h4>Introduction</h4>
                <p>{{user?.introduction}}
                  <span *ngIf="!user.introduction">No intro was provided</span>
                </p>
                <h4>Looking for:</h4>
                <p>{{user.lookingFor}}
                  <span *ngIf="!user.lookingFor">No info was provided</span>
                </p>
              </tab>

              <tab heading="Interests">
                <h4>Interests</h4>
                <p>{{user?.interests}}
                  <span *ngIf="!user.lookingFor">No info was provided</span>
                </p>
              </tab>

              <tab heading="Photos">
                <span *ngIf="!user.photos.length">No photos were found</span>
                <ngx-gallery *ngIf="user.photos.length" [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>

              </tab>

              <tab heading="Messages">
                  <p>Messages go here</p>
              </tab>
            </tabset>
      </div>

    </div>
  </div>
</div>
